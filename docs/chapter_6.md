この章では、Integrity（正しさ）とConsistency（一貫性）について話す。
たとえば下記のようなことを、どうやって取り扱うかを議論していく。

- `UnitQuantity` は1~1000の間にいなければいけない
- `Order` は少なくとも1つの `OrderLine` を持っていなければいけない
- `Order` を発送部に渡す前には、必ず正しい発送先住所を含んでいる必要がある
- `Order` の総額と、 `OrderLine` の内容は一致しなければいけない
- `Order` が確定したら、対応した `Invoice` が同時に発行されていなければいけない
- 割引コードの使用済みフラグを、 `Order` と一緒に管理しなければいけない

型システムを活用すると「最低でもひとつの要素を持つリスト」や「メアドの認証・未認証管理」などのビジネスロジックも表現できる。
直和型でビジネスロジックの分岐を表現することで、開発者の行動を適切に制限することができる。
たとえば、最初にユーザーの入力から得られるのが `EmailAddress` 型ならば、 `VerifiedEmailAddress` 型が必要な関数は動かせない、など。

型を使うと、たとえば下記のように、テストなしで正しい値を担保できるね！
- `UnvalidatedOrder` のプロパティとして `UnvalidatedAddress` が定義されていて、 `ValidatedOrder` のプロパティには `ValidatedAddress` が定義されている
- `ValidatedOrder` にはprivate constructorが定義されている（モジュールの外部でインスタンス化できない）

## 感想・疑問
Measureを使って型安全を、というのはまだあんまピンと来ない。単なる装飾を超えて意味のある機能になるのか...？
「最低でもひとつの値を持つリスト」は、「FirstとRestを持つ直積型として定義できる」って考え方は、なんか静的型付け言語の面白いところな気がした。たしかにそれなら、いついかなる時でも要件を守れる。
ビジネスロジックを型に落とし込むのは、とてもおもしろいと思った。一方で、結局勝手に変換用の関数を書かれたりしないようにレビューする必要はあるから、魔法のメソッドというわけでもないな、とも感じた。
